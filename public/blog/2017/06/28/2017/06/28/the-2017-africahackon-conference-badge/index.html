<!DOCTYPE html>
<html><head lang="en"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>The 2017 Africahackon Conference Badge - The poetry of (in)security</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Information security conference badges have rapidly evolved over time. They have become a favorite among conference organisers and attendees as fun accessories that tie in to the conference experience. Unique badges have become collectible items that attendees keep and identify with a particular conference." />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="The 2017 Africahackon Conference Badge" />
<meta property="og:description" content="Information security conference badges have rapidly evolved over time. They have become a favorite among conference organisers and attendees as fun accessories that tie in to the conference experience. Unique badges have become collectible items that attendees keep and identify with a particular conference." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blog/2017/06/28/2017/06/28/the-2017-africahackon-conference-badge/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2017-06-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-06-28T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="The 2017 Africahackon Conference Badge"/>
<meta name="twitter:description" content="Information security conference badges have rapidly evolved over time. They have become a favorite among conference organisers and attendees as fun accessories that tie in to the conference experience. Unique badges have become collectible items that attendees keep and identify with a particular conference."/>

        <link href="http://localhost:1313/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="http://localhost:1313/css/main.6a0f23ea50fd34b46fee262a5a68e17d458c51a2bc99ba1ba018065de6b180c3.css" />
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="http://localhost:1313/">The poetry of (in)security</a>
	</div>
	<nav>
		
		<a href="/">Home</a>
		
		<a href="/posts">All posts</a>
		
		<a href="/about">About</a>
		
		<a href="/tags">Tags</a>
		
		
	</nav>
</header>

<main>
  <article>
    <div class="post-container">
      
      <div class="post-content">
        <div class="title">
          <h1 class="title">The 2017 Africahackon Conference Badge</h1>
          <div class="meta">Posted on Jun 28, 2017</div>
        </div>
        
        <section class="body">
          <p>Information security conference badges have rapidly evolved over time. They have become a favorite among conference organisers and attendees as fun accessories that tie in to the conference experience. Unique badges have become collectible items that attendees keep and identify with a particular conference.</p>
<p>Conference badges are no longer just paper tags for conference access. They are now visually appealing and well designed accessories that attendees get to interact with. They usually have functionality that complements the activities of the conference. Depending on the design, the badge may offer experimenters avenues to tinker and try nifty hacks on.</p>
<h1 id="why-make-the-badge">Why make the badge?</h1>
<p>With the AfricaHackon Conference getting to its fourth edition, an electronic conference badge was long overdue. I therefore decided to test the waters with a limited edition badge starting with production of around 20 units. These would be allocated to conference speakers and other select individuals. The purpose of this limited run being to kickstart a badge culture that translates to future conferences. It was also my hope that it would spur interest in the mostly unexplored security related hardware hacking field in the local scene.</p>
<h1 id="the-concept">The concept</h1>
<p>I have an avid interest in radio hacking which led to the discovery of the awesome <!-- raw HTML omitted --><strong>ESP8266</strong><!-- raw HTML omitted --> module. This is a low-cost Wi-Fi chip with full TCP/IP stack and microcontroller unit. These are perfect for a not too complex badge that is still interesting and functional. A good OLED display and LEDs would complete the picture.</p>
<p>I wanted the badges to be useful, fun and not too complex, this being the first edition. I therefore decided to build them with the following capabilities:</p>
<ul>
<li>Ability to interact with WiFi networks (scanning and connectivity).</li>
<li>Be a schedule tracker throughout the conference and display the details of the current talk.</li>
<li>Flashing lights :)</li>
</ul>
<h1 id="the-hardware">The hardware</h1>
<p>Here is the hardware incorporated in the badges.</p>
<p>##ESP8266-01 modules ($2 - $3)</p>
<p>{% img /images/esp-01.png 500 %}</p>
<p>##0.96&quot; I2C OLED Displays 128X64 ($5)</p>
<p>{% img /images/13-oled-1.png 500 %}</p>
<p>##Assorted colour LEDs and 10k resistors</p>
<p>{% img /images/led_diode.png %} {% img /images/Resistor.png %}</p>
<p>##3.7v 600mAh LIPO Batteries ($5)</p>
<p>{% img /images/n1.png %}</p>
<h1 id="the-software">The software</h1>
<p>##Arduino IDE</p>
<p>This was used to write the code and upload it to the ESP8266 modules.</p>
<p>##Mosquitto MQTT Broker</p>
<p><!-- raw HTML omitted --><strong>MQTT</strong><!-- raw HTML omitted --> provides a lightweight method of carrying out messaging using a publish/subscribe model. This was used to update the badges with the details of the current talk during the conference.</p>
<p>#The Logic</p>
<p>##WiFi Connection</p>
<p>Initial operation of the badge would involve connection to a WiFi network. It would progress as follows:</p>
<ul>
<li>Start up and display the AH badge and conference title on the OLED display.</li>
<li>Scan and display available wireless networks.</li>
<li>Check if a preprogrammed WiFi network is available.</li>
<li>Continue scanning if the network isnâ€™t found.</li>
<li>Connect to the WiFi network when detected.</li>
<li>Display the IP, and power details of the WiFi network.</li>
</ul>
<p>##MQTT Operation</p>
<p>Once connected to the WiFi network, MQTT operation progresses as follows:</p>
<ul>
<li>Attempt connection to an MQTT server.</li>
<li>Subscribe to the event topic.</li>
<li>Display the current talk details as received from the topic.</li>
<li>Periodically check both WiFi and MQTT server connectivity.</li>
</ul>
<p>#The Design</p>
<p>##Circuitry</p>
<p>I had limited time on my hands and I therefore opted to do the circuit design on paper and by hand for a more hands on approach.
I also didn&rsquo;t have enough practice with professional circuit design. My day to day work had shifted my focus away from my Electronics Engineering background to information security.</p>
<p>Initial prototyping was done on breadboards. An <!-- raw HTML omitted --><strong>Arduino Uno R3</strong><!-- raw HTML omitted --> and a <!-- raw HTML omitted --><strong>Shikra</strong><!-- raw HTML omitted --> were used to load code onto the badge.</p>
<p>Mounting board acted as substitute PCBs for further prototyping and would also act as the material for the completed badge. Many thanks to the awesome Shiro Njagi for advice, procurement and preparation of the mounting board. Check out some of her work here <a href="https://shironjagi.com/">https://shironjagi.com/</a>.</p>
<p>Soldering proved to be an adventure with burnt fingers (not anything serious) and unconventional solder work the result. It was a fully enjoyable experience and I wouldn&rsquo;t have had it any other way :). I eventually got some soldering help from Anne who put my soldering skills to shame :(. I would also like to appreciate Newton for help in pre-solder assembly of components on the board. Many more thanks are due to Laura Tich for her help in various aspects throughout the badge making process.</p>
<p>##Code
Arduino code was used to program the ESP8266 modules and the full source code is available <!-- raw HTML omitted --><strong>here</strong><!-- raw HTML omitted -->.</p>
<p>Several iterations of code had to be done for stable operation. Printing debug information over the serial connection helped a lot in troubleshooting.
Availability of libraries supporting functions such as MQTT helped to reduce the amount of work considerably.</p>
<p>#Stages</p>
<p>Breadboard prototyping</p>
<p>{% img /images/breadboard_prototype.png %} {% img /images/breadboard_badge.png %}</p>
<p>Assembling</p>
<p>{% img /images/badge_assembly.png %} {% img /images/badge_assembly_2.png %}</p>
<p>Post soldering</p>
<p>{% img /images/badge_transport.png %} {% img /images/board_assembly.png %}</p>
<p>Completed badge</p>
<p>{% img /images/programmed_badge.png %}</p>
<p>Some sample videos of the badge design process can be found below:</p>
<p><a href="https://www.youtube.com/watch?v=egGrj3ydHZs">https://www.youtube.com/watch?v=egGrj3ydHZs</a></p>
<p><a href="https://www.youtube.com/watch?v=WwASZPGacBk">https://www.youtube.com/watch?v=WwASZPGacBk</a></p>
<p><a href="https://www.youtube.com/watch?v=3SgpkqwLFsE">https://www.youtube.com/watch?v=3SgpkqwLFsE</a></p>
<p>#Review</p>
<p>##Cost</p>
<p>An estimate of the total cost is as below:</p>
<ul>
<li>OLED Displays: $150</li>
<li>Batteries: $100</li>
<li>ESP8266: $60</li>
<li>LEDs &amp; Resistors: $20</li>
<li>Mounting board and Lanyards: $20</li>
<li>Miscellaneous: $50</li>
<li>Labour: Free</li>
</ul>
<p><em>Total: $400</em></p>
<p>Many thanks to AfricaHackon for covering most of the cost.</p>
<p>##Challenges</p>
<p>The badge making process was not without its fair share of challenges.</p>
<ul>
<li>Sourcing for some items was complicated due to local unavailability. This was more so the case with the OLED displays with all efforts to trace them locally failing.</li>
<li>Shipping delays â€“ This led to delays in completion of the badge assembly and I eventually had to improvise with AA batteries instead of the planned rechargeable lipo ones. These arrived a day after the conference :(.</li>
<li>Soldering needs lots of practice.</li>
<li>Assembling each badge by hand was time intensive.</li>
<li>Mounting board had to be used as substitute PCBs due to time and cost implications.</li>
</ul>
<p>#Hacking the badge</p>
<p>Badge owners are encouraged to hack the badge to do more cool stuff.
Please share what cool hacks you do on the badges.</p>
<p>##Programming</p>
<p>To program the badge, first install the Arduino IDE using this guide <a href="https://www.arduino.cc/en/guide/linux">https://www.arduino.cc/en/guide/linux</a>.
Next install the ESP8266 Arduino addon using this guide <a href="https://learn.sparkfun.com/tutorials/esp8266-thing-hookup-guide/installing-the-esp8266-arduino-addon">https://learn.sparkfun.com/tutorials/esp8266-thing-hookup-guide/installing-the-esp8266-arduino-addon</a>.
Then install the SSD1306 Arduino Library using this guide <a href="http://learn.acrobotic.com/tutorials/post/esp8266-oled-display-using-i2c">http://learn.acrobotic.com/tutorials/post/esp8266-oled-display-using-i2c</a>.
Finally install the pubsubclient MQTT library from here <a href="https://github.com/knolleary/pubsubclient">https://github.com/knolleary/pubsubclient</a>.</p>
<p>These two code examples will provide valuable insight on how to interact with the display (<a href="https://github.com/projetsdiy/esp-01-WiFi-Scanner-ESP-01-OLED-I2C-Display">https://github.com/projetsdiy/esp-01-WiFi-Scanner-ESP-01-OLED-I2C-Display</a>) and how to work with MQTT (<a href="https://github.com/ItKindaWorks/ESP8266/tree/master/Home%20Automation/Part%201/ESP8266_SimpleMQTT)">https://github.com/ItKindaWorks/ESP8266/tree/master/Home%20Automation/Part%201/ESP8266_SimpleMQTT)</a>.</p>
<p>Additionally, if you want to display custom images on the OLED display, use this guide (<a href="https://voidcast.wordpress.com/2013/11/04/part-7-getting-started-with-a-128x64-graphics-lcd-display-porting-an-image-to-a-128x64-monochrome-display/">https://voidcast.wordpress.com/2013/11/04/part-7-getting-started-with-a-128x64-graphics-lcd-display-porting-an-image-to-a-128x64-monochrome-display/</a>) to port your image to the 128Ã—64 display.</p>
<p>You can then clone the <!-- raw HTML omitted --><strong>badge code</strong><!-- raw HTML omitted --> and connect to your badge over the serial interface.</p>
<p>There are two unsoldered serial connection pins on the ESP8266. See the pin diagram of the ESP8266 above to help you identify them (UTXD and URXD). The badge also includes a switch which should be moved to the lower position to put the badge in programming mode before it&rsquo;s powered on. Set the baud rate on your Arduino IDE to 115200 and you should be able to upload your code to the badge.</p>
<p>The badge is currently programmed to connect to a specific WiFi network. Modify the following lines in the Arduino code to whatever network you want to use.</p>
<p><em><em>char</em> ssid = &ldquo;subzero&rdquo;;</em></p>
<p><em><em>char</em> password = &ldquo;@#$123456&rdquo;;</em></p>
<p>##MQTT</p>
<p>To set up an MQTT server on Ubuntu 16.04, follow these steps:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt-add-repository ppa:mosquitto-dev/mosquitto-ppa
</span></span><span style="display:flex;"><span>sudo apt-get update
</span></span><span style="display:flex;"><span>sudo apt-get install mosquitto mosquitto-clients
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Run the command below on your terminal to display some sample test on the badge</span>
</span></span><span style="display:flex;"><span>mosquitto_pub -t <span style="color:#e6db74">&#34;/test/event&#34;</span> -m <span style="color:#e6db74">&#34;[Event: AH2017   ][Speaker: CK     ][Title: ESP8266  ]&#34;</span>
</span></span></code></pre></div><p>Be sure to update the following line in the arduino code with the IP of your server.</p>
<p><em>#define MQTT_SERVER &ldquo;192.168.43.250&rdquo;</em>.</p>
<p>#The next badge</p>
<p>The plan is to make badges a mainstay feature of future AfricaHackon conferences. This means badges for all attendees at the next conference. The badge will transition to a full professional PCB with design plans for the next conference beginning immediately.</p>
<p>Some badge ideas that are being explored include:</p>
<ul>
<li>More interactivity â€“ have simple playable games on the badges.</li>
<li>Communication between badges â€“ badges to perform various actions when brought close to each other.</li>
<li>Include solvable challenges and easter eggs in the badges.</li>
<li>Experiment with radio on the badges â€“ Infrared, RFID, NFC and so on.</li>
<li>And of course more Flashing lights :)</li>
</ul>
<p>I am quite happy with how the badge turned out and already have several people volunteering to assist in the making of the next badge.</p>
<p>Till next time, happy hacking!</p>
        </section>
        <div class="post-tags">
          
          
          
        </div>
      </div>

      
      
    </div>

    </article>
</main>
<footer>
  <div style="display:flex"><a class="soc" href="https://github.com/iamckn" rel="me" title="GitHub"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#github" />
</svg></a><a class="border"></a><a class="soc" href="https://twitter.com/iamckn/" rel="me" title="Twitter"><svg class="feather">
   <use href="/svg/feather-sprite.51cf5647cb1987f769b616558f2620fd9423d72058490231b391bf6aa3744b55.svg#twitter" />
</svg></a><a class="border"></a></div>
  <div class="footer-info">
    2025  <a
      href="https://github.com/athul/archie">Archie Theme</a> | Built with <a href="https://gohugo.io">Hugo</a>
  </div>
</footer>

</div>
    </body>
</html>
